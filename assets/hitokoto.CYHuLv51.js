import{t as d,v as g}from"./app.Bwy3IvpQ.js";import"./chunks/dayjs.DPscOGnl.js";import{f as v,r as p}from"./framework.JYNd-MJe.js";function u(t){return Array.isArray(t)?t.map(e=>u(e)):t!==null&&typeof t=="object"?Object.fromEntries(Object.entries(t).map(([e,a])=>[e.replace(/_([a-z])/g,(n,r)=>r.toUpperCase()),u(a)])):t}function y(t,e){var l;let a="";((l=e==null?void 0:e.args)==null?void 0:l.length)!==0&&(a=[...new Set(e.args)].map(i=>`c=${i}`).join("&"));const c=e.minLength!==void 0?`&min_length=${e.minLength}`:"",n=e.maxLength!==void 0?`&max_length=${e.maxLength}`:"",r=`${a}${c}${n}`,o=r.startsWith("&")?r.substring(1):r;return`${t}/?${o}`}function A(t){return t&&typeof t=="object"}function f(){const t=d();return v(()=>({...t.value.addons["valaxy-addon-hitokoto"].options}))}function w(t=null){const e=f(),a="https://international.v1.hitokoto.cn",c="https://v1.hitokoto.cn",n=p({id:0,uuid:"",hitokoto:"",type:"",from:"",fromWho:"",creator:"",creatorUid:0,reviewer:0,commitFrom:"",createdAt:"",length:0}),r=async(o=t||e.value)=>{A(o)||console.error("Invalid argument: fetchOptions must be of type HitokotoOptions",o);const l=o.api==="intl"?a:o.api||c,m=y(l,o);try{const i=await fetch(m);if(!i.ok)throw new Error("Network response was not ok.");const s=await i.json();Array.isArray(s)?n.value.hitokoto=s[0]:typeof s=="object"?n.value=u(s):typeof s=="string"&&(n.value.hitokoto=s)}catch(i){console.error("Error fetching visitor count:",i)}};return r(),{hitokoto:n,fetchHitokoto:r}}var h=(t=>(t.Animation="a",t.Comic="b",t.Game="c",t.Literature="d",t.Original="e",t.FromInternet="f",t.Others="g",t.Movie="h",t.Poetry="i",t.NetEaseCloud="j",t.Philosophy="k",t.Wit="l",t))(h||{});const k=Object.freeze(Object.defineProperty({__proto__:null,HitokotoType:h,useAddonHitokoto:w,useAddonHitokotoConfig:f},Symbol.toStringTag,{value:"Module"}));g(k)&&console.warn("Please install valaxy-addon-hitokoto");export{k as a};
